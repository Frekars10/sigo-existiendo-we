<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Sigo existiendo we</title>
  <style>
    body { 
      margin: 0; 
      background: radial-gradient(circle, #ffffff 0%, #e0e0e0 100%); 
      overflow: hidden; 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      height: 100vh; 
    }
    
    /* Estilo para las frases iniciales (Pantalla Blanca) */
    .comment { 
      position: absolute; 
      color: #555; 
      white-space: nowrap; 
      opacity: 0; 
      animation: appear 1.1s ease forwards; /* Un poco más lento para no marear */
      text-shadow: 1px 1px 2px rgba(255,255,255,0.8); 
      font-weight: 500; 
    }
    
    @keyframes appear { 
      from { opacity: 0; transform: scale(0.8) rotate(var(--rot)); } 
      to { opacity: 1; transform: scale(1) rotate(var(--rot)); } 
    }

    #redButton { 
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); 
      background: #c62828; color: white; border: none; padding: 18px 36px; 
      font-size: 22px; border-radius: 10px; cursor: pointer; z-index: 100; 
      box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease;
    }
    #redButton:hover { background: #e53935; transform: translate(-50%, -53%); }

    #purpleLayer { 
      position: fixed; top: -100%; left: 0; width: 100%; height: 100%; 
      background: linear-gradient(to bottom, #1a001f, #2b0033, #4b005c); 
      z-index: 20; transition: top 1.5s cubic-bezier(0.4, 0, 0.2, 1); 
      display: flex; flex-direction: column; justify-content: center; align-items: center; 
    }
    #purpleLayer.show { top: 0; }

    /* Ajuste en el flujo de texto para que sea más legible */
    .flow-text { 
      position: absolute; 
      right: -100%; 
      white-space: nowrap; 
      color: rgba(255, 210, 255, 0.9); 
      animation: flowLeft linear forwards; 
      z-index: 30; 
      font-weight: 400;
      text-shadow: 0px 0px 8px rgba(0,0,0,0.5);
    }
    
    @keyframes flowLeft { 
      from { right: -100%; } 
      to { right: 120%; } 
    }

    .snowflake {
      position: absolute; top: -10px; color: white; font-size: 1.2em;
      user-select: none; z-index: 25; pointer-events: none;
      animation: fall linear forwards;
    }
    @keyframes fall { to { transform: translateY(105vh); } }

    #hearts-container { opacity: 0; transition: opacity 2s; display: flex; flex-direction: column; align-items: center; z-index: 40; }
    #hearts-container.visible { opacity: 1; }
    
    #text-arc { 
      color: #fce4ec; font-family: 'Georgia', serif; font-size: 32px; 
      letter-spacing: 6px; margin-bottom: 20px; font-weight: bold;
      text-shadow: 0 0 15px rgba(252, 228, 236, 0.6); text-align: center;
    }
    canvas { background: transparent; max-width: 90vw; }
  </style>
</head>
<body>

<div id="purpleLayer">
  <div id="hearts-container">
    <div id="text-arc">No olvides que te amo mi schatz♡</div>
    <canvas id="heartCanvas" width="800" height="500"></canvas>
  </div>
</div>

<button id="redButton">Sí.</button>

<script>
  const canvas = document.getElementById("heartCanvas");
  const ctx = canvas.getContext("2d");

  function drawEmptyHeart(x, y, size, color) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2.5;
    ctx.shadowBlur = 10;
    ctx.shadowColor = color;
    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.bezierCurveTo(x, y - size/2, x - size, y - size/2, x - size, y);
    ctx.bezierCurveTo(x - size, y + size/1.5, x, y + size, x, y + size*1.3);
    ctx.bezierCurveTo(x, y + size, x + size, y + size/1.5, x + size, y);
    ctx.bezierCurveTo(x + size, y - size/2, x, y - size/2, x, y);
    ctx.stroke();
    ctx.shadowBlur = 0;
  }

  const heartPositions = [
    {x: 400, y: 180, s: 60, c: "#ffffff"}, 
    {x: 180, y: 120, s: 35, c: "#f8bbd0"},
    {x: 620, y: 140, s: 40, c: "#ffffff"},
    {x: 250, y: 320, s: 45, c: "#f8bbd0"},
    {x: 550, y: 350, s: 50, c: "#ffffff"},
    {x: 100, y: 250, s: 30, c: "#f8bbd0"},
    {x: 700, y: 280, s: 35, c: "#ffffff"},
    {x: 400, y: 50,  s: 25, c: "#f8bbd0"},
    {x: 150, y: 400, s: 40, c: "#ffffff"},
    {x: 650, y: 420, s: 30, c: "#f8bbd0"}
  ];

  function showHeartsOneByOne() {
    heartPositions.forEach((h, i) => {
      setTimeout(() => {
        drawEmptyHeart(h.x, h.y, h.s, h.c);
      }, i * 700);
    });
  }

  function createSnowflake() {
    const flake = document.createElement("div");
    flake.className = "snowflake";
    flake.innerHTML = "•";
    flake.style.left = Math.random() * 100 + "vw";
    flake.style.opacity = 0.3 + Math.random() * 0.7;
    const duration = 6 + Math.random() * 6;
    flake.style.animationDuration = duration + "s";
    document.getElementById("purpleLayer").appendChild(flake);
    setTimeout(() => flake.remove(), duration * 1000);
  }

  // --- FRASES INICIALES ---
  const comments = [
    "¿Y ahora qué?", "¿Otra web?", "Ya empezamos…", "Esto es raro.", "No puede ser.", 
    "¿Por qué siempre..?", "Seguro es aburrido.", "No.", "Bro respeta.", "No quiero ver.", 
    "Esto es una mala idea.", "No puede salir bien.", "Ya lo conozco.", "Ok.",
    "¿No tienes nada mejor que hacer?", "Qué pérdida de tiempo.", "Ya me lo imagino...", "Zzzzzzz.",
    "¿Es en serio?", "Otra vez con lo mismo...", "No se que decirr", "Ay no, ya va a empezar." // Frases nuevas agregadas
  ];

  // Distribuir frases iniciales con más espacio
  comments.forEach((text, i) => {
    const el = document.createElement("div");
    el.className = "comment";
    el.textContent = text;
    el.style.setProperty("--rot", (Math.random() * 20 - 10) + "deg");
    el.style.left = (Math.random() * 75 + 5) + "%";
    el.style.top = (Math.random() * 85 + 5) + "%";
    el.style.fontSize = (16 + Math.random() * 6) + "px";
    el.style.animationDelay = (i * 0.2) + "s"; // Aparecen más espaciadas
    document.body.appendChild(el);
  });

  const mensajesCorriente = [
    "Olaaaa q tallll sigo existiendo we.", 
    "Bueno e estado algo ausente xddd (no me digasxd) peroooo", 
    "NO me iba a olvidarrrrr por desgracia tuya de darte tu ¿regalooooo? kanskdjskalnkd xd", 
    "Y si otra web, quizas te haga un juego de roblos a la proximaaa, o quien sabe", 
    "Te he extrañado tanto, de verdad. te juro que con el unico tiktok q me envias al diaxd, me emociono demasiado", 
    "Vives en mi corazon asjkdnakj nah o bueno si xd.", 
    "Espero q te guste esta pagina, no sabes la codificacion q llevo (1 MES DE ERRORES POR FAVOR CONSIDERALO)", 
    "y.. quieres ser mi san valentin? jajksjad te lo ruego por vafor di que si di q siiii por favorr", 
    "Te amo, te amo como el primer dia en que te vi. no lo recuerdo pq no recuerdo ni q ise ayer, pero se q te ame.",
    "Y se q lo voy hacer por un largo tiempo, mas o menos 1 o 2 milones de años mas.",
    "ya sea como tomes esto o lo q pienses, queria darte siquiera un detalle de 50 segundos. tu valdrias un app entera xd (osea entiendes?xd) yyyyyyyy "
  ];

  const button = document.getElementById("redButton");
  button.addEventListener("click", () => {
    document.querySelectorAll(".comment").forEach(c => c.style.opacity = "0");
    button.style.opacity = "0";
    setTimeout(() => {
      document.getElementById("purpleLayer").classList.add("show");
      iniciarCorriente();
    }, 600);
  });

  function iniciarCorriente() {
    setInterval(createSnowflake, 200);

    mensajesCorriente.forEach((texto, i) => {
      setTimeout(() => {
        const span = document.createElement("div");
        span.className = "flow-text";
        span.textContent = texto;
        
        // Evitar que se amontonen usando zonas verticales (un mensaje arriba, otro al medio, otro abajo)
        const track = i % 3; 
        span.style.top = (25 + (track * 20) + Math.random() * 10) + "%";
        
        span.style.fontSize = (22 + Math.random() * 6) + "px";
        span.style.animationDuration = "15s"; // Más lento para que de tiempo de leer (antes era 10s)
        document.getElementById("purpleLayer").appendChild(span);

        if(i === mensajesCorriente.length - 1) {
          setTimeout(() => {
            document.getElementById("hearts-container").classList.add("visible");
            showHeartsOneByOne();
          }, 7000);
        }
      }, i * 2900); // Intervalo más largo entre frases (antes era 1600)
    });
  }
</script>
</body>
</html>